<HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><TITLE>$Search</TITLE></HEAD><BODY><TABLE width="100%" border="1"><TR><TH width="150">Author</TH><TH>Message</TH></TR><TR><TD valign="top" align="left"><B>CrazyGuy<BR></B>Administrator<BR>Full Member<BR> Offline<BR>Posts: 169<BR></TD><TD valign="top" align="left"><table width="100%" border="0"><tr><td valign="middle"><BR></TD><td valign="middle">$Search<BR>&#171; <B> on:</B> May 02, 2007, 09:08:19 PM &#187;</TD><td align="right" valign="bottom" height="20"></TD></TR></TABLE><BR>Syntax<BR>Active user<BR>Quote$Search &lt;ip&gt;:&lt;port&gt; &lt;searchstring&gt;<BR>Passive user<BR>Quote$Search Hub:&lt;requestornick&gt; &lt;searchstring&gt;<BR>Description<BR>This command is used to initiate a search. The format used differs based on whether the client is in active mode or passive mode.<BR>Active User Request:<BR>• &lt;ip&gt; is this client&#039;&#039;s own IP address.<BR>• &lt;port&gt; is a UDP port on which the client is listening for responses.<BR>Passive User Request:<BR>• &lt;requestornick&gt; is the Nick of the Passive User doing the Search.<BR>• &lt;searchstring&gt; is a string describing the file the client is searching for. It is made up of a question mark (&#039;&#039;?&#039;&#039;) delimited string as follows:<BR>Quote&lt;sizerestricted&gt;?&lt;ismaxsize&gt;?&lt;size&gt;?&lt;datatype&gt;?&lt;searchpattern&gt;<BR>• &lt;sizerestricted&gt; is &#039;&#039;T&#039;&#039; if the search should be restricted to files of a minimum or maximum size, otherwise &#039;&#039;F&#039;&#039;.<BR>• &lt;ismaxsize&gt; is &#039;&#039;F&#039;&#039; if &lt;sizerestricted&gt; is &#039;&#039;F&#039;&#039; or if the size restriction places an lower limit on file size, otherwise &#039;&#039;T&#039;&#039;.<BR>• &lt;size&gt; is the minimum or maximum size of the file to report (according to &lt;ismaxsize&gt;) if &lt;sizerestricted&gt; is &#039;&#039;T&#039;&#039;, otherwise 0.<BR>• &lt;datatype&gt; restricts the search to files of a particular type. It is an integer selected from:<BR>&nbsp;&nbsp;&nbsp;• 1 for any file type<BR>&nbsp;&nbsp;&nbsp;• 2 for audio files (&quot;mp3&quot;, &quot;mp2&quot;, &quot;wav&quot;, &quot;au&quot;, &quot;rm&quot;, &quot;mid&quot;, &quot;sm&quot;)<BR>&nbsp;&nbsp;&nbsp;• 3 for compressed files (&quot;zip&quot;, &quot;arj&quot;, &quot;rar&quot;, &quot;lzh&quot;, &quot;gz&quot;, &quot;z&quot;, &quot;arc&quot;, &quot;pak&quot;)<BR>&nbsp;&nbsp;&nbsp;• 4 for documents (&quot;doc&quot;, &quot;txt&quot;, &quot;wri&quot;, &quot;pdf&quot;, &quot;ps&quot;, &quot;tex&quot;)<BR>&nbsp;&nbsp;&nbsp;• 5 for executables (&quot;pm&quot;, &quot;exe&quot;, &quot;bat&quot;, &quot;com&quot;)<BR>&nbsp;&nbsp;&nbsp;• 6 for pictures (&quot;gif&quot;, &quot;jpg&quot;, &quot;jpeg&quot;, &quot;bmp&quot;, &quot;pcx&quot;, &quot;png&quot;, &quot;wmf&quot;, &quot;psd&quot;)<BR>&nbsp;&nbsp;&nbsp;• 7 for video (&quot;mpg&quot;, &quot;mpeg&quot;, &quot;avi&quot;, &quot;asf&quot;, &quot;mov&quot;)<BR>&nbsp;&nbsp;&nbsp;• 8 for folders<BR>&nbsp;&nbsp;&nbsp;• 9 for TTHSearch<BR>• &lt;searchpattern&gt; is used by other users to determine if any files match.<BR>&nbsp;&nbsp;&nbsp;• if is TTHSearch then &lt;searchpattern&gt; is TTH:_file_tth_<BR>• Behavior of DC++:<BR>&nbsp;&nbsp;&nbsp;• Spaces are replaced by &#039;&#039;$&#039;&#039;.<BR>&nbsp;&nbsp;&nbsp;• As with all NMDC messages, &#039;&#039;$&#039;&#039; and &#039;&#039;&#38;#124;&#039;&#039; are escaped with &quot;&#38;#36;&quot; and &quot;&#38;#124;&quot;, with &#039;&#039;&amp;&#039;&#039; being further replaced with &quot;&amp;amp;&quot;<BR>The server must forward this message unmodified to all the other users. Every other user with one or more matching files must send a UDP packet to &lt;ip&gt;:&lt;port&gt; for Active requests or a reply to the Hub for Passive requests.<BR>See the $SR command for details of response format.<BR>Examples<BR>Quote$Search 64.78.55.32:412 T?T?500000?1?Gentoo$2005<BR>$Search Hub:SomeNick T?T?500000?1?Gentoo$2005Quote$Search 17.12.85.3:3746 F?T?0?9?TTH:TO32WPD6AQE7VA7654HEAM5GKFQGIL7F2BEKFNA<BR>$Search Hub:SomeNick F?T?0?9?TTH:TO32WPD6AQE7VA7654HEAM5GKFQGIL7F2BEKFNA</TD></TR></TABLE></BODY></HTML>