<HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><TITLE>$IN</TITLE></HEAD><BODY><TABLE width="100%" border="1"><TR><TH width="150">Author</TH><TH>Message</TH></TR><TR><TD valign="top" align="left"><B>CrazyGuy<BR></B>Administrator<BR>Full Member<BR> Offline<BR>Posts: 169<BR></TD><TD valign="top" align="left"><table width="100%" border="0"><tr><td valign="middle"><BR></TD><td valign="middle">$IN<BR>&#171; <B> on:</B> May 02, 2007, 09:28:44 PM &#187;</TD><td align="right" valign="bottom" height="20"></TD></TR></TABLE>The $IN string is designed to replace the always long and bandwith-costing $MyINFO string.<BR>Support for this is indicated by signalling IN in the Supports string (see +IN).<BR>Unlike the $MyINFO string, the $IN string consists of seperate smaller parts which all have a 1-byte identifier and are seperated by a dollar sign($).<BR>A clients tag, has only 1 identifier indicating it is concerning the tag, but all parts of this tag also have their own 1-byte identifier. In the tag, the parts are delimited with a space.<BR>Syntax:<BR>Quote$IN &lt;sender nick&gt;$&lt;part identifier&gt;&lt;information&gt;$[&lt;part identifier&gt;&lt;information&gt;$]|<BR>All part identifiers are 1-byte character codes according to the ANSI system.<BR>So far, the following are defined:<BR>Char code&nbsp;&nbsp;&nbsp;Identifying<BR>&nbsp; &nbsp; 68&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; description<BR>&nbsp; &nbsp; 84&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; tag*<BR>&nbsp; &nbsp; 67&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; connection<BR>&nbsp; &nbsp; 70&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; status flag**<BR>&nbsp; &nbsp; 69&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; email address<BR>&nbsp; &nbsp; 83&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; sharesize in bytes<BR>Example of a client updating its description<BR>Quote$IN &lt;sender nick&gt;$&lt;char code 68&gt;&lt;new description&gt;$|<BR>Example of a client updating both its email address and its sharesize<BR>Quote$IN &lt;sender nick&gt;$&lt;char code 69&gt;&lt;new email address&gt;$&lt;char code 83&gt;&lt;new sharesize in bytes&gt;$|<BR>*tag<BR>As described above, every part in the tag has it&#039;&#039;s own identifier and these parts are space delimited.<BR>The following identifiers have been defined:<BR>Char code&nbsp;&nbsp;&nbsp;Identifying<BR>&nbsp; &nbsp; 99&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; client<BR>&nbsp; 118&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; version<BR>&nbsp; 109&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; mode<BR>&nbsp; 104&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; hubcount<BR>&nbsp; 115&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; slots<BR>&nbsp; 102&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; free slots<BR>&nbsp; 108&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; bandwith limit ( L: and B: in $MyINFO string)<BR>&nbsp; 111&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; O: in $MyINFO string<BR>&nbsp; 114&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; R: in $MyINFO string<BR>Example of a client updating its hubcount<BR>Quote$IN &lt;sender nick&gt;$&lt;char code 84&gt;&lt;char code 104&gt;&lt;new hubcount&gt;$|<BR>**status flag<BR>Bit 5 and Bit 6 of the 32-bit status flag are used to indicate wether a user is an OP or wether the $IN string send by the hubsoft belongs to a bot.<BR>These values are read-only and should never be changed by a client. The hubsoft must disconnect for this.<BR>If a client connects and has successfully logged in with the correct password, the hubsoft will set bit 5 of the status flag and sends this part to all connected users, including the newly connected OP.<BR>The connecting client must save the status flag it received from the hub and use it when updating status such as away and fireball. However, as said, it is not allowed to set or reset bit 5 and bit 6 of the status flag.<BR>Bit 9 indicates if the client is in DND-mode (Do-Not-Disturb). Unlike Away mode, this mode will prevent the client to receive any pm&#039;s. Clients are responsible themselves for setting/resetting this bit. Once this bit is set, and the hub receives a $To: string for a client in DND-mode, the hub must ignore the $To and reply to the sender with a message that the receiver is in DND-Mode.<BR>A client having this bit set, should automatically reset this bit when sending a pm itself. Ideally, newer clients supporting IN, may prevent themselves from sending $To strings to other clients having this bit set. The hub will always have the last the say in forwarding a PM or not.<BR>$To strings generated by the hubsoft to the client are not included in this and will be send regardlessly of status ( i.e. messages from bots ).<BR>If a client wishes to remove a part of its $IN (say for example its description), it must send this parts identifier immediatly followed by the dollar sign ($), indicating it is empty.<BR>Example of a client removing its bandwith limit, changing its number of slots and changing his connection<BR>Quote$IN &lt;sender nick&gt;$&lt;char code 84&gt;&lt;char code 108&gt; &lt;char code 115&gt;&lt;new slot count&gt;$&lt;char code 67&gt;&lt;new connection&gt;$|<BR>The order in which parts are send is free to choose, but tag parts should be grouped together.<BR>Support IN and the $IN string are based on an original design by Ptaczek and completed by PPK, Daywalker and CrazyGuy.<BR>*** Awaiting draft update, don&#039;t implement current draft ! ***</TD></TR></TABLE></BODY></HTML>