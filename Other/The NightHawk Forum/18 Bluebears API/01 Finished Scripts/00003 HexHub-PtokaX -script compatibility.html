<HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><TITLE>HexHub/PtokaX -script compatibility</TITLE></HEAD><BODY><TABLE width="100%" border="1"><TR><TH width="150">Author</TH><TH>Message</TH></TR><TR><TD valign="top" align="left"><B>CrazyGuy<BR></B>Administrator<BR>Full Member<BR> Offline<BR>Posts: 169<BR></TD><TD valign="top" align="left"><table width="100%" border="0"><tr><td valign="middle"><BR></TD><td valign="middle">HexHub/PtokaX -script compatibility<BR>&#171; <B> on:</B> March 09, 2007, 03:00:17 PM &#187;</TD><td align="right" valign="bottom" height="20"></TD></TR></TABLE>I&#39;&#39;ve written a small (untested) way of making scripts easily compatible for both hubsofts.<BR>Just because the calls are mostly named different or work the same, this can be done.<BR>Here&#39;&#39;s a template that should get you on the way<BR>Code:<BR>bHubSoft = 0-- lets set 0 for PtokaX, 1 for HexHub<BR>Main = function()<BR>-- this function is called by PtokaX on script start<BR>bHubSoft = 0<BR>end<BR>OnInit = function()<BR>-- this function is called by HexHub on script start<BR>bHubSoft = 1<BR>end<BR>ChatArrival = function(User,Data)<BR>--[[<BR>this is a PtokaX function<BR>do your string capturing here but the handling in their own functions<BR>mind the return 1/0 though<BR>]]--<BR>end<BR>ToArrival = function(User,Data)<BR>-- see ChatArrival<BR>end<BR>OnChatMessage = function(iUserId, sData)<BR>--[[<BR>this is a HexHub function<BR>will be called for both mainchat and pm messages<BR>capture, and send to your own functions<BR>mind the return 1/0 again<BR>]]--<BR>end<BR>OnError = function(sError)<BR>-- called by both Hubsofts<BR>-- mind that for HexHub this function must<BR>-- return 0 to indicate it can go on<BR>end<BR>OnTimer = function()<BR>-- same for both hubsofts<BR>-- although the timer object itself is a bit different<BR>end<BR>OnExit = function()<BR>-- same for both hubsofts<BR>end<BR>SendToMain = function(sFrom,sData)<BR>-- our own function for sending messages to mainchat<BR>if bHubSoft == 0 then<BR>-- PtokaX<BR>SendToAll(sFrom, sData)<BR>elseif bHubSoft == 1 then<BR>-- HexHub<BR>HexHub.SendToAll(&quot;&lt;&quot;..sFrom..&quot;&gt; &quot;..sData..&quot;|&quot;)<BR>end<BR>end<BR>SendToPM = function(sFrom,sWho,sData)<BR>-- our own function for sending messages to PM<BR>-- assuming sWho will be iUserID for HexHub and<BR>-- will be User.sName for PtokaX<BR>if bHubSoft == 0 then<BR>-- PtokaX<BR>local curUser = GetItemByName(sWho)<BR>if curUser then<BR>curUser:SendPM(sFrom,sData)<BR>else<BR>-- the user is offline, handle here<BR>end<BR>elseif bHubSoft == 1 then<BR>-- HexHub<BR>if HexHub.SendTo(sWho, &quot;$To: &quot;..sWho..&quot; From: &quot;..sFrom..&quot; $&lt;&quot;..sFrom..&quot;&gt; &quot;..sData..&quot;|&quot;) == false then<BR>-- the user is offline, message not send. handle here<BR>end<BR>end<BR>end<BR>SendToUser = function(sFrom,sWho,sData)<BR>-- our own function for sending messages to 1 user in main only<BR>-- assuming sWho will be iUserID for HexHub and<BR>-- will be User.sName for PtokaX<BR>if bHubSoft == 0 then<BR>-- PtokaX<BR>local curUser = GetItemByName(sWho)<BR>if curUser then<BR>curUser:SendData(sFrom,sData)<BR>else<BR>-- the user is offline, handle here<BR>end<BR>elseif bHubSoft == 1 then<BR>-- HexHub<BR>if HexHub.SendTo(sWho, &quot;&lt;&quot;..sFrom..&quot;&gt; &quot;..sData..&quot;|&quot;) == false then<BR>-- the user is offline, message not send. handle here<BR>end<BR>end<BR>end<BR>Lemmy know if this is helpful&nbsp; [/default/cool.gif]</TD></TR></TABLE></BODY></HTML>