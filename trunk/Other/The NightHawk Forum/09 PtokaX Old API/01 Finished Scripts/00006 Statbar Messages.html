<HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><TITLE>Statbar Messages</TITLE></HEAD><BODY><TABLE width="100%" border="1"><TR><TH width="150">Author</TH><TH>Message</TH></TR><TR><TD valign="top" align="left"><B>Nillan<BR></B>Administrator<BR>Newbie<BR> Offline<BR>Posts: 18<BR></TD><TD valign="top" align="left"><table width="100%" border="0"><tr><td valign="middle"><BR></TD><td valign="middle">Statbar Messages<BR>&#171; <B> on:</B> March 08, 2007, 11:01:09 PM &#187;</TD><td align="right" valign="bottom" height="20"></TD></TR></TABLE>This is a small script for sending login and kick/ban messages to the statbar<BR>Code:--[[<BR>Statbar Messages 1.0<BR>Nillan 2007-03-06<BR>Thnx CrazyGuy fo helping me as always :)<BR>This will send login and kick/ban messages to the statbar for everyone to see<BR>--]]<BR>sBotName = &quot;&quot;<BR>function Main()<BR>sBotName = frmHub:GetHubBotName()<BR>end<BR>NewUserConnected = function(User)<BR>if User.iProfile == -1 then<BR>local sWelcome = &quot;Welcome &quot;..User.sName..&quot; , nice to have you here  is kicking because:&quot;<BR>SendToAll(sBotName ,sWelcome)<BR>else<BR>local sOPWelcome = &quot;Welcome &quot;..GetProfileName(User.iProfile)..&quot;&nbsp; &quot;..User.sName..&quot;&nbsp; nice to have you back  is kicking because:&quot;<BR>SendToAll(sBotName ,sOPWelcome)<BR>end<BR>return 1<BR>end<BR>&nbsp;<BR>OpConnected = NewUserConnected<BR>function ChatArrival(User, Data)<BR>if User.iProfile &gt;= 0 then<BR>local _,_,sCmd,sWhat = string.find(Data, &quot;%b&lt;&gt;%s%p(%S+)%s(.*)|&quot;)<BR>if (sCmd == &quot;drop&quot;) then<BR>local _,_,sWho,sWhy = string.find(sWhat, &quot;(%S+)%s(.*)&quot;)<BR>if sWhy == nil then<BR>sWho = sWhat<BR>sWhy = &quot;No reason given&quot;<BR>end<BR>local sKickMessage = &quot;User &quot;..sWho..&quot; was removed by: &quot;..User.sName..&quot;&nbsp; because: &quot;..sWhy..&quot;  is kicking because:&quot;<BR>SendToAll(sBotName ,sKickMessage)<BR>elseif sCmd and string.find(sCmd, &quot;ban&quot;) then<BR>local _,_,sWho,sWhy = string.find(sWhat, &quot;(%S+)%s(.*)&quot;)<BR>if sWhy == nil then<BR>sWho = sWhat<BR>sWhy = &quot;No reason given&quot;<BR>end<BR>local sKickMessage = &quot;User &quot;..sWho..&quot;&nbsp; was kicked and banned by: &quot;..User.sName..&quot;&nbsp; because: &quot;..sWhy..&quot;  is kicking because:&quot;<BR>SendToAll(sBotName ,sKickMessage)<BR>end<BR>end<BR>end<BR>function ToArrival(User, Data)<BR>if User.iProfile &gt;= 0 then<BR>local _,_,sTo,sPM = string.find(Data, &quot;To%:%s(%S+)%sFrom%:%s%S+%s%$%b&lt;&gt;%s(.*)|&quot;)<BR>if sTo == sBotName then<BR>-- command is sent to Bot<BR>local _,_,sCmd,sWhat = string.find(sPM, &quot;%p(%S+)%s(.*)&quot;)<BR>if (sCmd == &quot;drop&quot;) then<BR>local _,_,sWho,sWhy = string.find(sWhat, &quot;(%S+)%s(.*)&quot;)<BR>if sWhy == nil then<BR>sWho = sWhat<BR>sWhy = &quot;No reason given&quot;<BR>end<BR>local sKickMessage = &quot;User &quot;..sWho..&quot;&nbsp; was kicked by: &quot;..User.sName..&quot;&nbsp; because: &quot;..sWhy..&quot;  is kicking because:&quot;<BR>SendToAll(sBotName ,sKickMessage)<BR>elseif string.find(sCmd, &quot;ban&quot;) then<BR>local _,_,sWho,sWhy = string.find(sWhat, &quot;(%S+)%s(.*)&quot;)<BR>if sWhy == nil then<BR>sWho = sWhat<BR>sWhy = &quot;No reason given&quot;<BR>end<BR>local sKickMessage = &quot;User &quot;..sWho..&quot; was kicked and banned by: &quot;..User.sName..&quot;&nbsp; because: &quot;..sWhy..&quot;  is kicking because:&quot;<BR>SendToAll(sBotName ,sKickMessage)<BR>end<BR>end<BR>end<BR>end<BR></TD></TR><TR><TD valign="top" align="left"><B>lito<BR></B>Newbie<BR> Offline<BR>Posts: 3<BR></TD><TD valign="top" align="left"><table width="100%" border="0"><tr><td valign="middle"><BR></TD><td valign="middle">Re: Statbar Messages<BR>&#171; <B>Reply #1 on:</B> March 13, 2007, 10:11:31 AM &#187;</TD><td align="right" valign="bottom" height="20"></TD></TR></TABLE>fick lite problem med detta script den slog ut några andra scripts höger klicks kommandon körde ett script hidme som inte funka när jag la in detta script statbar någonting som går att fixa<BR>m.v.h<BR>Lito [/default/wink.gif]</TD></TR><TR><TD valign="top" align="left"><B>Nillan<BR></B>Administrator<BR>Newbie<BR> Offline<BR>Posts: 18<BR></TD><TD valign="top" align="left"><table width="100%" border="0"><tr><td valign="middle"><BR></TD><td valign="middle">Re: Statbar Messages<BR>&#171; <B>Reply #2 on:</B> March 13, 2007, 12:54:11 PM &#187;</TD><td align="right" valign="bottom" height="20"></TD></TR></TABLE>I&#39;&#39;ll check on that Lito, thnx for reporting :) </TD></TR><TR><TD valign="top" align="left"><B>lito<BR></B>Newbie<BR> Offline<BR>Posts: 3<BR></TD><TD valign="top" align="left"><table width="100%" border="0"><tr><td valign="middle"><BR></TD><td valign="middle">Re: Statbar Messages<BR>&#171; <B>Reply #3 on:</B> March 13, 2007, 04:52:04 PM &#187;</TD><td align="right" valign="bottom" height="20"></TD></TR></TABLE>Oki thanks because it&#39;&#39;s a greate script<BR>thanks Nillan [/default/wink.gif]</TD></TR><TR><TD valign="top" align="left"><B>Nillan<BR></B>Administrator<BR>Newbie<BR> Offline<BR>Posts: 18<BR></TD><TD valign="top" align="left"><table width="100%" border="0"><tr><td valign="middle"><BR></TD><td valign="middle">Re: Statbar Messages<BR>&#171; <B>Reply #4 on:</B> March 13, 2007, 06:38:50 PM &#187;</TD><td align="right" valign="bottom" height="20"></TD></TR></TABLE>well i&#39;&#39;ve tried a few things now and for me it works just fine with my own security script and the deal or no deal. But you have to put the statbar script at the bottom of them all :)<BR>So what ever script you have that uses rc, just place them on top of the statbar script and it should be ok. if not plz let me know again&nbsp; [/default/grin.gif]&nbsp; &nbsp; </TD></TR><TR><TD valign="top" align="left"><B>Madman<BR></B>Developer<BR>Newbie<BR> Offline<BR>Posts: 10<BR></TD><TD valign="top" align="left"><table width="100%" border="0"><tr><td valign="middle"><BR></TD><td valign="middle">Re: Statbar Messages<BR>&#171; <B>Reply #5 on:</B> March 13, 2007, 08:15:58 PM &#187;</TD><td align="right" valign="bottom" height="20"></TD></TR></TABLE>Remove the return 1 in the NewUserConnected.<BR>returning 1 in a px function, will make px stop sending the user, the info from that function in the scripts bellow this one.</TD></TR><TR><TD valign="top" align="left"><B>Nillan<BR></B>Administrator<BR>Newbie<BR> Offline<BR>Posts: 18<BR></TD><TD valign="top" align="left"><table width="100%" border="0"><tr><td valign="middle"><BR></TD><td valign="middle">Re: Statbar Messages<BR>&#171; <B>Reply #6 on:</B> March 13, 2007, 08:22:52 PM &#187;</TD><td align="right" valign="bottom" height="20"></TD></TR></TABLE>you mean just like this?<BR>Code:NewUserConnected = function(User)<BR>if User.iProfile == -1 then<BR>local sWelcome = &quot;Welcome &quot;..User.sName..&quot; , nice to have you here is kicking because:&quot;<BR>SendToAll(sBotName ,sWelcome)<BR>else<BR>local sOPWelcome = &quot;Welcome &quot;..GetProfileName(User.iProfile)..&quot;&nbsp; &quot;..User.sName..&quot;&nbsp; nice to have you back is kicking because:&quot;<BR>SendToAll(sBotName ,sOPWelcome)<BR>end<BR>end<BR></TD></TR><TR><TD valign="top" align="left"><B>lito<BR></B>Newbie<BR> Offline<BR>Posts: 3<BR></TD><TD valign="top" align="left"><table width="100%" border="0"><tr><td valign="middle"><BR></TD><td valign="middle">Re: Statbar Messages<BR>&#171; <B>Reply #7 on:</B> March 14, 2007, 04:31:56 AM &#187;</TD><td align="right" valign="bottom" height="20"></TD></TR></TABLE>thanks now it works lol<BR>lito [/default/grin.gif]</TD></TR><TR><TD valign="top" align="left"><B>Madman<BR></B>Developer<BR>Newbie<BR> Offline<BR>Posts: 10<BR></TD><TD valign="top" align="left"><table width="100%" border="0"><tr><td valign="middle"><BR></TD><td valign="middle">Re: Statbar Messages<BR>&#171; <B>Reply #8 on:</B> March 14, 2007, 04:59:30 AM &#187;</TD><td align="right" valign="bottom" height="20"></TD></TR></TABLE>Yup... like that....</TD></TR></TABLE></BODY></HTML>